üöÄ –ü—Ä–æ—î–∫—Ç: Flask + PostgreSQL ‚Äî –î–µ—Ç–∞–ª—å–Ω–∏–π –ê–Ω–∞–ª—ñ–∑ –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π —Ç–∞ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –ë–î

üßë‚Äçüíª –í—Å—Ç—É–ø –¥–ª—è –ù–µ—Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç—ñ–≤: –Ø–∫ —Ü–µ –ü—Ä–∞—Ü—é—î?

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –∫–æ—Ä–∏—Å—Ç—É—î—Ç–µ—Å—è –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ—é –∫–∞—Ä—Ç–∫–æ—é. –ö–æ–ª–∏ –≤–∏ –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ –∫–∞–≤—É, –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –¥–≤—ñ —Ä–µ—á—ñ:

–ì—Ä–æ—à—ñ —Å–ø–∏—Å—É—é—Ç—å—Å—è –∑ –≤–∞—à–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É.

–ì—Ä–æ—à—ñ –∑–∞—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è –Ω–∞ —Ä–∞—Ö—É–Ω–æ–∫ –∫–∞–≤'—è—Ä–Ω—ñ.

–¶—ñ –¥–≤—ñ –¥—ñ—ó –º–∞—é—Ç—å –±—É—Ç–∏ –Ω–µ—Ä–æ–∑—Ä–∏–≤–Ω–∏–º–∏. –Ø–∫—â–æ –∑ –≤–∞—à–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É —Å–ø–∏—Å–∞–ª–æ, –∞ –∫–∞–≤'—è—Ä–Ω—ñ –Ω–µ –∑–∞—Ä–∞—Ö—É–≤–∞–ª–æ ‚Äî —Ü–µ –ø–æ–º–∏–ª–∫–∞.
–ù–∞—à –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–∞—Ü—é—î –∑–∞ —Ç–∏–º —Å–∞–º–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–º, —è–∫–∏–π –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è.

–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è ‚Äî —Ü–µ —è–∫ —Å–µ–π—Ñ. –ú–∏ –∫–ª–∞–¥–µ–º–æ –≤ –Ω—å–æ–≥–æ –∫—ñ–ª—å–∫–∞ –¥—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "—Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Å—Ç" —ñ "–∑–∞–ø–∏—Å–∞—Ç–∏ —Ü–µ –≤ –∂—É—Ä–Ω–∞–ª"). –Ø–∫—â–æ –º–∏ –º–æ–∂–µ–º–æ –∑–∞–∫—Ä–∏—Ç–∏ —Å–µ–π—Ñ —ñ –ø–æ–≤—ñ—Å–∏—Ç–∏ –∑–∞–º–æ–∫ (COMMIT), —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤—Å—ñ –¥—ñ—ó —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω—ñ. –Ø–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫, —Å–µ–π—Ñ —Ä–æ–∑–∫—Ä–∏–≤–∞—î—Ç—å—Å—è (ROLLBACK), —ñ –º–∏ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—è –¥–æ —Ç–æ–≥–æ —Å—Ç–∞–Ω—É, —è–∫–∏–π –±—É–≤ –¥–æ –ø–æ—á–∞—Ç–∫—É —Ü–∏—Ö –¥—ñ–π.

–°–∞–º–µ —Ü–µ–π "—Å–µ–π—Ñ" —Ä–æ–±–∏—Ç—å –Ω–∞—à –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞–¥—ñ–π–Ω–∏–º —ñ –¥–æ–∑–≤–æ–ª—è—î –¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö PostgreSQL.

üí° –ö–æ–Ω—Ü–µ–ø—Ü—ñ—è —Ç–∞ –ú–µ—Ç–∞ –ü—Ä–æ—î–∫—Ç—É

–¶–µ–π –≤–µ–±–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Å–ª—É–≥—É—î –ø–æ–ª—ñ–≥–æ–Ω–æ–º –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –Ω–∞–¥—ñ–π–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—ó —Ä–µ–ª—è—Ü—ñ–π–Ω–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö. –û—Å–Ω–æ–≤–Ω–∏–π –∞–∫—Ü–µ–Ω—Ç –∑—Ä–æ–±–ª–µ–Ω–æ –Ω–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—ñ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö (Data Integrity) —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é ACID-—Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π —Ç–∞ –≤–∏–Ω–µ—Å–µ–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –Ω–∞ —Ä—ñ–≤–µ–Ω—å SQL-—Å–µ—Ä–≤–µ—Ä–∞.

–ú–µ—Ç–∞: –î–æ–≤–µ—Å—Ç–∏ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É:

–ö–µ—Ä—É–≤–∞—Ç–∏ –∞—Ç–æ–º–∞—Ä–Ω–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏ (Python).

–ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ –ë–î (–§—É–Ω–∫—Ü—ñ—ó —Ç–∞ –¢—Ä–∏–≥–µ—Ä–∏).

–ó–∞–±–µ–∑–ø–µ—á—É–≤–∞—Ç–∏ –∞—É–¥–∏—Ç —É—Å—ñ—Ö –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–º—ñ–Ω.

üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π –°—Ç–µ–∫ —Ç–∞ –°–µ—Ä–µ–¥–æ–≤–∏—â–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç

–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è

–†–æ–ª—å —É –ü—Ä–æ—î–∫—Ç—ñ

Backend

Python 3 (Flask)

–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è, –æ–±—Ä–æ–±–∫–∞ HTTP-–∑–∞–ø–∏—Ç—ñ–≤, –≤–∑–∞—î–º–æ–¥—ñ—è –∑ –ë–î.

Database

PostgreSQL

–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π, –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ —Ç—Ä–∏–≥–µ—Ä—ñ–≤.

Driver

psycopg2

Python-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è PostgreSQL. –ó–∞–±–µ–∑–ø–µ—á—É—î –∫–æ—Ä–µ–∫—Ç–Ω—É —Ä–æ–±–æ—Ç—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π —Ç–∞ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–∏—Ö.

Frontend

HTML5 / CSS3

–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö, –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ñ–æ—Ä–º–∏ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó.

üõ°Ô∏è –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –õ–æ–≥—ñ–∫–∞ —Ç–∞ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

I. –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –Ω–∞ –†—ñ–≤–Ω—ñ –î–æ–¥–∞—Ç–∫—É (ACID Principles)

–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è –æ–±–≥–æ—Ä—Ç–∞—î –∫—ñ–ª—å–∫–∞ SQL-–æ–ø–µ—Ä–∞—Ü—ñ–π –º—ñ–∂ BEGIN (–Ω–µ—è–≤–Ω–∏–π –ø–æ—á–∞—Ç–æ–∫ –ø—Ä–∏ cursor.execute) —Ç–∞ COMMIT. –ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ Exception –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è conn.rollback().

1. –°—Ü–µ–Ω–∞—Ä—ñ–π: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ù–æ–≤–æ–≥–æ –ü–æ—Å—Ç–∞ (/add)

–¶–µ –±–∞–∑–æ–≤–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—ñ.

–ú–µ—Ç–∞: –ì–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –ø–æ—Å—Ç –Ω–µ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ, —è–∫—â–æ –∑–∞–ø–∏—Å —É –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç—É –Ω–µ –≤–¥–∞–≤—Å—è.

–ö—Ä–æ–∫ 1 (–ó–∞–ø–∏—Ç): INSERT INTO posts ... (–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É)

–ö—Ä–æ–∫ 2 (–õ–æ–≥—É–≤–∞–Ω–Ω—è): INSERT INTO audit_log ... (–§—ñ–∫—Å–∞—Ü—ñ—è —Ñ–∞–∫—Ç—É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è)

–§—ñ–∫—Å–∞—Ü—ñ—è: –£—Å–ø—ñ—à–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –æ–±–æ—Ö –∫—Ä–æ–∫—ñ–≤ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ conn.commit().

2. –°—Ü–µ–Ω–∞—Ä—ñ–π: –ë–µ–∑–ø–µ—á–Ω–µ –í–∏–¥–∞–ª–µ–Ω–Ω—è (/delete/<id>)

–¶–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞, –±–∞–≥–∞—Ç–æ—Å—Ç—É–ø—ñ–Ω—á–∞—Å—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è, —â–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤—ñ–¥–Ω–æ–≤–ª—é–≤–∞–Ω—ñ—Å—Ç—å.

–ú–µ—Ç–∞: –ó–∞–ø–æ–±—ñ–≥—Ç–∏ –≤—Ç—Ä–∞—Ç—ñ –¥–∞–Ω–∏—Ö –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ (–ø—Ä–∏–Ω—Ü–∏–ø Soft Delete).

–ö—Ä–æ–∫ 1 (–ó—á–∏—Ç—É–≤–∞–Ω–Ω—è): SELECT –ø–æ—Å—Ç–∞ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–º—ñ—Å—Ç—É.

–ö—Ä–æ–∫ 2 (–ê—Ä—Ö—ñ–≤): INSERT INTO archives ... (–ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø–æ—Å—Ç–∞)

–ö—Ä–æ–∫ 3 (–í–∏–¥–∞–ª–µ–Ω–Ω—è): DELETE FROM posts WHERE id = ... (–í–∏–¥–∞–ª–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É)

–ö—Ä–æ–∫ 4 (–ê—É–¥–∏—Ç): INSERT INTO audit_log ... (–õ–æ–≥—É–≤–∞–Ω–Ω—è –¥—ñ—ó)

–ì–∞—Ä–∞–Ω—Ç—ñ—è: –Ø–∫—â–æ –∑–∞–ø–∏—Å —É —Ç–∞–±–ª–∏—Ü—é archives –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è –ø–æ–ª—è), –≤—Å—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è —Å–∫–∞—Å—É—î—Ç—å—Å—è (ROLLBACK), —ñ –ø–æ—Å—Ç –∑–∞–ª–∏—à–∏—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ posts.

3. –°—Ü–µ–Ω–∞—Ä—ñ–π: –†–µ–∞–∫—Ü—ñ—ó (–õ–∞–π–∫/–î–∏–∑–ª–∞–π–∫) (/react/<id>)

–¶—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è –≤–∞–∂–ª–∏–≤–∞ –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —É–∑–≥–æ–¥–∂–µ–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö, –æ—Å–æ–±–ª–∏–≤–æ —É –±–∞–≥–∞—Ç–æ–∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞—Ö.

–ú–µ—Ç–∞: –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏, —â–æ –∑–º—ñ–Ω–∞ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ —Ç–∞ –ª–æ–≥-–∑–∞–ø–∏—Å —î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–º–∏.

–ö—Ä–æ–∫ 1 (–û–Ω–æ–≤–ª–µ–Ω–Ω—è): UPDATE posts SET likes = likes + 1... (–ó–º—ñ–Ω–∞ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞)

–ö—Ä–æ–∫ 2 (–ê—É–¥–∏—Ç): INSERT INTO audit_log ... (–õ–æ–≥—É–≤–∞–Ω–Ω—è –æ—Ü—ñ–Ω–∫–∏)

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ —Ç–æ–≥–æ, —â–æ –ª—ñ—á–∏–ª—å–Ω–∏–∫ –æ–Ω–æ–≤–∏–≤—Å—è, –∞–ª–µ –≤ –∂—É—Ä–Ω–∞–ª—ñ –ø—Ä–æ —Ü–µ –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—É.

II. –û–±'—î–∫—Ç–∏ –Ω–∞ –†—ñ–≤–Ω—ñ PostgreSQL (–í–∏–Ω–µ—Å–µ–Ω–Ω—è –õ–æ–≥—ñ–∫–∏)

–î–ª—è —Ä–æ–∑–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Python-—Å–µ—Ä–≤–µ—Ä–∞ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –°–£–ë–î —á–∞—Å—Ç–∏–Ω–∞ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –Ω–∞ PL/pgSQL. 

1. –ó–±–µ—Ä–µ–∂–µ–Ω–∞ –§—É–Ω–∫—Ü—ñ—è: get_post_rating(likes_count INT, dislikes_count INT)

–¢–∏–ø: SQL-—Ñ—É–Ω–∫—Ü—ñ—è, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î —Ü—ñ–ª–µ —á–∏—Å–ª–æ (INT).

–†–æ–ª—å: –í–∏–∫–æ–Ω—É—î –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è.

–í–∏–∫–ª–∏–∫ —É Flask: –§—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –∑–∞–ø–∏—Ç—ñ SELECT:

SELECT
    ...,
    get_post_rating(likes, dislikes) AS rating
FROM posts


–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è: –í—ñ–¥–æ–±—Ä–∞–∂–∞—î —á–∏—Å—Ç–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (–ª–∞–π–∫–∏ - –¥–∏–∑–ª–∞–π–∫–∏) –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.

2. –¢—Ä–∏–≥–µ—Ä —Ç–∞ –§—É–Ω–∫—Ü—ñ—è-–û–±—Ä–æ–±–Ω–∏–∫: update_posts_changetimestamp

–¢—Ä–∏–≥–µ—Ä: CREATE TRIGGER ... BEFORE UPDATE ON posts ...

–§—É–Ω–∫—Ü—ñ—è-–û–±—Ä–æ–±–Ω–∏–∫: update_changetimestamp_column()

–†–æ–ª—å: –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –≤–µ–¥–µ–Ω–Ω—è –º–µ—Ç–∞–¥–∞–Ω–∏—Ö.

–ú–µ—Ö–∞–Ω—ñ–∑–º: –ü—Ä–∏ –±—É–¥—å-—è–∫—ñ–π –æ–ø–µ—Ä–∞—Ü—ñ—ó UPDATE (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—Ä–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ –ø–æ—Å—Ç–∞ —á–µ—Ä–µ–∑ –º–∞—Ä—à—Ä—É—Ç /edit/<id>):

–¢—Ä–∏–≥–µ—Ä —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –î–û —Ç–æ–≥–æ, —è–∫ –∑–º—ñ–Ω–∏ –±—É–¥—É—Ç—å –≤–Ω–µ—Å–µ–Ω—ñ.

–í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î NEW.updated_at = now().

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î "–†–µ–¥–∞–≥—É–≤–∞—Ç–∏" ‚Üí —á–∞—Å "–û–Ω–æ–≤–ª–µ–Ω–æ (—Ç—Ä–∏–≥–µ—Ä –ë–î)" –∑–º—ñ–Ω—é—î—Ç—å—Å—è, —Ö–æ—á–∞ Python –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è–≤ –∫–æ–º–∞–Ω–¥—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—å–æ–≥–æ –ø–æ–ª—è.

III. –°—Ö–µ–º–∞ –î–∞–Ω–∏—Ö (–¢–∞–±–ª–∏—Ü—ñ)

–¢–∞–±–ª–∏—Ü—è

–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è

–ö–ª—é—á–æ–≤—ñ –ü–æ–ª—è

posts

–ê–∫—Ç–∏–≤–Ω—ñ –∑–∞–ø–∏—Å–∏ –±–ª–æ–≥—É.

id (SERIAL PRIMARY KEY), likes, dislikes, updated_at (–¥–ª—è —Ç—Ä–∏–≥–µ—Ä–∞).

audit_log

–Ü—Å—Ç–æ—Ä—ñ—è –≤—Å—ñ—Ö –∑–º—ñ–Ω —Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π.

action (–æ–ø–∏—Å), timestamp (—á–∞—Å –ø–æ–¥—ñ—ó).

archives

–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–∏—Ö –ø–æ—Å—Ç—ñ–≤.

original_id (–∑–≤'—è–∑–æ–∫), deleted_at (—á–∞—Å –∞—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è).

üíª –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ –ó–∞–ø—É—Å–∫—É

1. –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Python 3.x.

–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π PostgreSQL —Ç–∞ pgAdmin.

–ê–∫—Ç–∏–≤–Ω–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (venv).

2. –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:

pip install flask psycopg2



3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ë–î

–£ pgAdmin —Å—Ç–≤–æ—Ä—ñ—Ç—å –ø–æ—Ä–æ–∂–Ω—é –±–∞–∑—É –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, flask_blog).

–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª main.py —Ç–∞ –∑–∞–º—ñ–Ω—ñ—Ç—å –¥–∞–Ω—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –Ω–∞ –≤–∞—à—ñ:

DB_NAME = "flask_blog"
DB_USER = "postgres"
DB_PASS = "–í–ê–®_–ü–ê–†–û–õ–¨_–í–Ü–î_PGADMIN"



4. –ó–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫:

python main.py



–ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ http://127.0.0.1:5000/.

–ö—Ä–æ–∫ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó: –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "‚ö† –°–∫–∏–Ω—É—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö (Reset)" –≤–Ω–∏–∑—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏. –¶–µ –≤–∏–∫–æ–Ω–∞—î init_db() (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞–±–ª–∏—Ü—å, —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ —Ç—Ä–∏–≥–µ—Ä—ñ–≤) —ñ populate_db() (–¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–∏—Ö –ø–æ—Å—Ç—ñ–≤).