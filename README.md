üöÄ –ü—Ä–æ—î–∫—Ç: Flask + PostgreSQL ‚Äî –ê–Ω–∞–ª—ñ–∑ –ù–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ —Ç–∞ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É –ë–î
üåü –í—Å—Ç—É–ø: –©–æ —Ç–∞–∫–µ "–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å" —É —Ü—å–æ–º—É –î–æ–¥–∞—Ç–∫—É?
–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –∫–æ—Ä–∏—Å—Ç—É—î—Ç–µ—Å—è –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ—é –∫–∞—Ä—Ç–∫–æ—é. –ö–æ–ª–∏ –≤–∏ –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ –∫–∞–≤—É, –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –¥–≤—ñ –Ω–µ—Ä–æ–∑—Ä–∏–≤–Ω—ñ –¥—ñ—ó: –≥—Ä–æ—à—ñ —Å–ø–∏—Å—É—é—Ç—å—Å—è –∑ –≤–∞—à–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É –Ü –∑–∞—Ä–∞—Ö–æ–≤—É—é—Ç—å—Å—è –Ω–∞ —Ä–∞—Ö—É–Ω–æ–∫ –∫–∞–≤'—è—Ä–Ω—ñ. –Ø–∫—â–æ —Å–ø–∏—Å–∞–Ω–Ω—è –≤—ñ–¥–±—É–ª–æ—Å—è, –∞ –∑–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –Ω—ñ ‚Äî —Ü–µ –ø–æ–º–∏–ª–∫–∞.
–ù–∞—à –¥–æ–¥–∞—Ç–æ–∫ –ø—Ä–∞—Ü—é—î –∑–∞ —Ç–∏–º —Å–∞–º–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–º, —è–∫–∏–π –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è.
–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è ‚Äî —Ü–µ —è–∫ —Å–µ–π—Ñ. –ú–∏ –∫–ª–∞–¥–µ–º–æ –≤ –Ω—å–æ–≥–æ –∫—ñ–ª—å–∫–∞ –¥—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "—Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Å—Ç" —ñ "–∑–∞–ø–∏—Å–∞—Ç–∏ —Ü–µ –≤ –∂—É—Ä–Ω–∞–ª"). –Ø–∫—â–æ –º–∏ –º–æ–∂–µ–º–æ –∑–∞–∫—Ä–∏—Ç–∏ —Å–µ–π—Ñ —ñ –ø–æ–≤—ñ—Å–∏—Ç–∏ –∑–∞–º–æ–∫ (COMMIT), —Ü–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤—Å—ñ –¥—ñ—ó —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω—ñ. –Ø–∫—â–æ —â–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫, —Å–µ–π—Ñ —Ä–æ–∑–∫—Ä–∏–≤–∞—î—Ç—å—Å—è (ROLLBACK), —ñ –º–∏ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—è –¥–æ —Ç–æ–≥–æ —Å—Ç–∞–Ω—É, —è–∫–∏–π –±—É–≤ –¥–æ –ø–æ—á–∞—Ç–∫—É —Ü–∏—Ö –¥—ñ–π.
–°–∞–º–µ —Ü–µ–π "—Å–µ–π—Ñ" —Ä–æ–±–∏—Ç—å –Ω–∞—à –¥–æ–¥–∞—Ç–æ–∫ –Ω–∞–¥—ñ–π–Ω–∏–º —ñ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö PostgreSQL.
üéØ –ö–æ–Ω—Ü–µ–ø—Ü—ñ—è —Ç–∞ –ú–µ—Ç–∞ –ü—Ä–æ—î–∫—Ç—É
–¶–µ–π –≤–µ–±–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —î –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—î—é –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –Ω–∞–¥—ñ–π–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ—ó —Ä–µ–ª—è—Ü—ñ–π–Ω–æ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö. –û—Å–Ω–æ–≤–Ω–∏–π –∞–∫—Ü–µ–Ω—Ç –∑—Ä–æ–±–ª–µ–Ω–æ –Ω–∞ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—ñ —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö (Data Integrity) —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é ACID-—Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π —Ç–∞ –≤–∏–Ω–µ—Å–µ–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏ –Ω–∞ —Ä—ñ–≤–µ–Ω—å SQL-—Å–µ—Ä–≤–µ—Ä–∞.
–û—Å–Ω–æ–≤–Ω—ñ –ó–∞–≤–¥–∞–Ω–Ω—è:
–ö–µ—Ä—É–≤–∞—Ç–∏ –∞—Ç–æ–º–∞—Ä–Ω–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ –¥–æ–¥–∞—Ç–∫—É (Python).
–ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ –ë–î (–§—É–Ω–∫—Ü—ñ—ó —Ç–∞ –¢—Ä–∏–≥–µ—Ä–∏).
–ó–∞–±–µ–∑–ø–µ—á—É–≤–∞—Ç–∏ –∞—É–¥–∏—Ç —É—Å—ñ—Ö –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∑–º—ñ–Ω.
üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π –°—Ç–µ–∫ —Ç–∞ –°–µ—Ä–µ–¥–æ–≤–∏—â–µ
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç
–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è
–†–æ–ª—å —É –ü—Ä–æ—î–∫—Ç—ñ
Backend
Python 3 (Flask)
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è, –æ–±—Ä–æ–±–∫–∞ HTTP-–∑–∞–ø–∏—Ç—ñ–≤, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏.
Database
PostgreSQL
–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ —Ç—Ä–∏–≥–µ—Ä—ñ–≤, ACID-–≥–∞—Ä–∞–Ω—Ç—ñ—ó.
Driver
psycopg2
Python-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è PostgreSQL.
Frontend
HTML5 / CSS3
–í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö, –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

üîí –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –õ–æ–≥—ñ–∫–∞ —Ç–∞ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
I. –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó –Ω–∞ –†—ñ–≤–Ω—ñ –î–æ–¥–∞—Ç–∫—É (ACID Principles)
–£—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –æ–±–≥–æ—Ä–Ω—É—Ç—ñ –≤ try-except –±–ª–æ–∫–∏, –¥–µ conn.commit() —Ñ—ñ–∫—Å—É—î —É—Å–ø—ñ—Ö, –∞ conn.rollback() —Å–∫–∞—Å–æ–≤—É—î –∑–º—ñ–Ω–∏ –ø—Ä–∏ –ø–æ–º–∏–ª—Ü—ñ.
–î–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è –°—Ü–µ–Ω–∞—Ä—ñ—ó–≤ –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π:
–°—Ü–µ–Ω–∞—Ä—ñ–π
–ú–µ—Ç–∞ —Ç–∞ –ú–µ—Ö–∞–Ω—ñ–∑–º
–ì–∞—Ä–∞–Ω—Ç—ñ—è
–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ü–æ—Å—Ç–∞ (/add)
–ë–∞–∑–æ–≤–∞ –∞—Ç–æ–º–∞—Ä–Ω—ñ—Å—Ç—å. –ö—Ä–æ–∫–∏: INSERT –ø–æ—Å—Ç–∞ + INSERT —É –ª–æ–≥.
–¶—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å: –Ø–∫—â–æ –∑–∞–ø–∏—Å —É audit_log –Ω–µ –≤–¥–∞—î—Ç—å—Å—è, –ø–æ—Å—Ç –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è (ROLLBACK).
–ë–µ–∑–ø–µ—á–Ω–µ –í–∏–¥–∞–ª–µ–Ω–Ω—è (/delete/<id>)
–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –≤—Ç—Ä–∞—Ç–∏ –¥–∞–Ω–∏—Ö (Soft Delete). –ö—Ä–æ–∫–∏: SELECT ‚Üí INSERT –≤ archives ‚Üí DELETE –∑ posts ‚Üí INSERT —É –ª–æ–≥.
–í—ñ–¥–Ω–æ–≤–ª—é–≤–∞–Ω—ñ—Å—Ç—å: –ü–æ—Å—Ç –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∏–π –∑ –∞–∫—Ç–∏–≤–Ω–∏—Ö, —è–∫—â–æ –Ω–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ –π–æ–≥–æ –∫–æ–ø—ñ—é –≤ –∞—Ä—Ö—ñ–≤—ñ.
–†–µ–∞–∫—Ü—ñ—ó (–õ–∞–π–∫/–î–∏–∑–ª–∞–π–∫) (/react/<id>)
–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ —Ç–∞ –∞—É–¥–∏—Ç—É. –ö—Ä–æ–∫–∏: UPDATE –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞ + INSERT —É –ª–æ–≥.
–£–∑–≥–æ–¥–∂–µ–Ω—ñ—Å—Ç—å: –ó–∞–ø–æ–±—ñ–≥–∞—î —Å–∏—Ç—É–∞—Ü—ñ—ó, –∫–æ–ª–∏ –ª–∞–π–∫ –∑–∞—Ä–∞—Ö–æ–≤–∞–Ω–æ, –∞–ª–µ –≤ –∂—É—Ä–Ω–∞–ª—ñ –ø—Ä–æ —Ü–µ –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—É.

II. –û–±'—î–∫—Ç–∏ –Ω–∞ –†—ñ–≤–Ω—ñ PostgreSQL (–í–∏–Ω–µ—Å–µ–Ω–Ω—è –õ–æ–≥—ñ–∫–∏)
–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ —Ç—Ä–∏–≥–µ—Ä—ñ–≤ –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ç–∞ –Ω–∞–¥—ñ–π–Ω–æ—Å—Ç—ñ.
1. –ó–±–µ—Ä–µ–∂–µ–Ω–∞ –§—É–Ω–∫—Ü—ñ—è: get_post_rating(likes_count INT, dislikes_count INT)
–¢–∏–ø: SQL-—Ñ—É–Ω–∫—Ü—ñ—è, –Ω–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ PL/pgSQL.
–†–æ–ª—å: –ê–Ω–∞–ª—ñ—Ç–∏—á–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è.
–í–∏–∫–ª–∏–∫ —É Flask: –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É –≤ –∑–∞–ø–∏—Ç—ñ SELECT:
SELECT 
    ..., 
    get_post_rating(likes, dislikes) AS rating -- –í–∏–∫–ª–∏–∫ —Ñ—É–Ω–∫—Ü—ñ—ó
FROM posts


–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è: –í—ñ–¥–æ–±—Ä–∞–∂–∞—î —á–∏—Å—Ç–∏–π —Ä–µ–π—Ç–∏–Ω–≥ (–ª–∞–π–∫–∏ - –¥–∏–∑–ª–∞–π–∫–∏) –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.
2. –¢—Ä–∏–≥–µ—Ä —Ç–∞ –§—É–Ω–∫—Ü—ñ—è-–û–±—Ä–æ–±–Ω–∏–∫: update_posts_changetimestamp
–¢—Ä–∏–≥–µ—Ä: CREATE TRIGGER ... BEFORE UPDATE ON posts
–§—É–Ω–∫—Ü—ñ—è-–û–±—Ä–æ–±–Ω–∏–∫: update_changetimestamp_column()
–†–æ–ª—å: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –º–µ—Ç–∞–¥–∞–Ω–∏—Ö.
–ú–µ—Ö–∞–Ω—ñ–∑–º: –ü—Ä–∏ –±—É–¥—å-—è–∫—ñ–π –æ–ø–µ—Ä–∞—Ü—ñ—ó UPDATE (—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É —á–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞) —Ç—Ä–∏–≥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–ª—é—î –ø–æ–ª–µ updated_at –Ω–∞ –ø–æ—Ç–æ—á–Ω–∏–π —á–∞—Å.
–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î "–†–µ–¥–∞–≥—É–≤–∞—Ç–∏" ‚Üí —á–∞—Å "–û–Ω–æ–≤–ª–µ–Ω–æ (—Ç—Ä–∏–≥–µ—Ä –ë–î)" –∑–º—ñ–Ω—é—î—Ç—å—Å—è –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –∫–æ–¥—É –Ω–∞ Python.
III. –°—Ö–µ–º–∞ –î–∞–Ω–∏—Ö (–¢–∞–±–ª–∏—Ü—ñ)
–¢–∞–±–ª–∏—Ü—è
–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
–ö–ª—é—á–æ–≤—ñ –ü–æ–ª—è —Ç–∞ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ
posts
–ê–∫—Ç–∏–≤–Ω—ñ –∑–∞–ø–∏—Å–∏ –±–ª–æ–≥—É.
id (SERIAL PRIMARY KEY), likes, dislikes, updated_at (–æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —Ç—Ä–∏–≥–µ—Ä–æ–º).
audit_log
–Ü—Å—Ç–æ—Ä—ñ—è –≤—Å—ñ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π —Ç–∞ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –¥—ñ–π.
action (–¥–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å), timestamp (—á–∞—Å –ø–æ–¥—ñ—ó).
archives
–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–∏—Ö –ø–æ—Å—Ç—ñ–≤.
original_id (–∑–≤'—è–∑–æ–∫ –∑ –æ—Ä–∏–≥—ñ–Ω–∞–ª–æ–º), deleted_at (—á–∞—Å –∞—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è).

üíª –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –∑ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Ç–∞ –ó–∞–ø—É—Å–∫—É
1. –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Python 3.x.
–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π PostgreSQL —Ç–∞ pgAdmin.
–ê–∫—Ç–∏–≤–Ω–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (venv).
2. –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:
pip install flask psycopg2


3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ë–î
–£ pgAdmin —Å—Ç–≤–æ—Ä—ñ—Ç—å –ø–æ—Ä–æ–∂–Ω—é –±–∞–∑—É –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, flask_blog).
–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª main.py —Ç–∞ –∑–∞–º—ñ–Ω—ñ—Ç—å –¥–∞–Ω—ñ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:
DB_NAME = "flask_blog"
DB_USER = "postgres"
DB_PASS = "–í–ê–®_–ü–ê–†–û–õ–¨_–í–Ü–î_PGADMIN" 


4. –ó–∞–ø—É—Å–∫
–ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫:
python main.py


–ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ http://127.0.0.1:5000/.
–ö—Ä–æ–∫ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó: –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "‚ö† –°–∫–∏–Ω—É—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö (Reset)" –≤–Ω–∏–∑—É —Å—Ç–æ—Ä—ñ–Ω–∫–∏. –¶–µ –≤–∏–∫–æ–Ω–∞—î —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é, —Å—Ç–≤–æ—Ä–∏–≤—à–∏ –≤—Å—ñ —Ç–∞–±–ª–∏—Ü—ñ, —Ñ—É–Ω–∫—Ü—ñ—ó —Ç–∞ —Ç—Ä–∏–≥–µ—Ä–∏.
